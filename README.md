# Order Service

## üìå –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
Order Service ‚Äî —Å–µ—Ä–≤–∏—Å –Ω–∞ Go –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–∫–∞–∑–∞–º–∏.  
–û–Ω –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–∫–∞–∑—ã –∏–∑ Kafka, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ PostgreSQL –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ UID –∑–∞–∫–∞–∑–∞.

## ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ —Å–ª–æ–∏:
- **Handler (Web)** ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã, –æ—Ç–¥–∞–µ—Ç HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—ã.
- **Service** ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è).
- **Repository** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å PostgreSQL —á–µ—Ä–µ–∑ GORM.
- **Kafka Consumer** ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ –ë–î.

### –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
- `Order` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∑–∞–∫–∞–∑—É.
- `Delivery` ‚Äî –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ.
- `Payment` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–ø–ª–∞—Ç–µ.
- `Item` ‚Äî —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∑–∞–∫–∞–∑–µ.
- `InvalidRequest` - —Å–ø–∏—Å–æ–∫ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö JSON.

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker –∏ Docker Compose.
2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/UnendingLoop/Level0
   cd Level0
   ```
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
   ```bash
   docker-compose up --build
   ```
   –ü–æ–¥–Ω–∏–º–∞—é—Ç—Å—è —Å–µ—Ä–≤–∏—Å—ã:
   - **PostgreSQL** (–ø–æ—Ä—Ç `5432`)
   - **Zookeeper** (–ø–æ—Ä—Ç `2181`)
   - **Kafka** (–ø–æ—Ä—Ç—ã `9092`, `29092`)
   - **Order Service** (–ø–æ—Ä—Ç `8081`) - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–æ–∫–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π - –æ—Ç–∫–ª—é—á–∏—Ç—å –µ–≥–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞–≤ "START_MOCK_PRODUCER=false" –≤ .env

4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É:
   - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∏—Å–∫–∞ –∑–∞–∫–∞–∑–∞: [http://localhost:8081/order/](http://localhost:8081/order/)
   - –í–≤–æ–¥–∏–º `OrderUID` ‚Üí –ø–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–µ.

## üñ•Ô∏è –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
1. –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ Docker Compose.
2. Kafka –ø–æ–ª—É—á–∞–µ—Ç mock-—Å–æ–æ–±—â–µ–Ω–∏—è –æ –∑–∞–∫–∞–∑–∞—Ö(–ø—Ä–∏ START_MOCK_PRODUCER=true –≤ .env).
3. –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ PostgreSQL.
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç `OrderUID` –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∏ –ø–æ–ª—É—á–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:
   - –¥–∞–Ω–Ω—ã–µ –æ –¥–æ—Å—Ç–∞–≤–∫–µ
   - –¥–∞–Ω–Ω—ã–µ –æ–± –æ–ø–ª–∞—Ç–µ
   - —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤

## üõ† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Go** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
- **PostgreSQL** ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∑–∞–∫–∞–∑–æ–≤.
- **Kafka** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.
- **Docker Compose** ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤.
- **Bootstrap** ‚Äî —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü.

## üìÑ –ò—Ç–æ–≥
–°–µ—Ä–≤–∏—Å –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–∞–≤—ã–∫–∏:
- —Ä–∞–±–æ—Ç—ã —Å Kafka –∏ PostgreSQL
- —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞ Go
- –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---
üë®‚Äçüíª –ê–≤—Ç–æ—Ä: –§–∞–Ω–∏–ª—å –ö–∞–º–∞–ª–µ—Ç–¥–∏–Ω–æ–≤
